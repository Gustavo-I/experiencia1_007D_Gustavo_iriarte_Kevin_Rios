{"version":3,"sources":["./src/app/pages/registro/registro-routing.module.ts","./src/app/pages/registro/registro.module.ts","./src/app/pages/registro/registro.page.ts","./src/app/services/data.service.ts","./src/app/pages/registro/registro.page.scss","./src/app/pages/registro/registro.page.html"],"names":[],"mappings":"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","file":"src_app_pages_registro_registro_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { RegistroPage } from './registro.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: RegistroPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class RegistroPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RegistroPageRoutingModule } from './registro-routing.module';\n\nimport { RegistroPage } from './registro.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    RegistroPageRoutingModule\n  ],\n  declarations: [RegistroPage]\n})\nexport class RegistroPageModule {}\n","import { Component, OnInit,ViewChild } from '@angular/core';\nimport { DataService, Registro } from 'src/app/services/data.service';\nimport { Platform, ToastController, IonList} from '@ionic/angular';\n@Component({\n  selector: 'app-registro',\n  templateUrl: './registro.page.html',\n  styleUrls: ['./registro.page.scss'],\n})\nexport class RegistroPage implements OnInit {\n    registros: Registro[] = [];\n    newRegistro: Registro = <Registro>{};\n    \n    @ViewChild('miList')miList :IonList; \n\n    constructor(private storageService:DataService,\n      private plt: Platform, private toastController: ToastController)\n      {\n        this.plt.ready().then(()=>{\n          this.loadDatos();\n      });\n    }\n  \n  \n\n    ngOnInit() {\n    }\n  \n  //get\n    loadDatos(){\n      this.storageService.getDatos().then(datos=>{\n        this.registros=datos;\n      });\n    }\n  \n     //create\n    addDatos(){\n      this.newRegistro.modified = Date.now();\n      this.newRegistro.id = Date.now();\n      this.storageService.addDatos(this.newRegistro).then(dato=>{\n        this.newRegistro = <Registro>{};\n        this.showToast('!Datos Agregados');\n        this.loadDatos();\n      });\n    }\n  \n    //update\n    updateDatos(dato: Registro ){\n      dato.nom = `UPDATED: ${dato.nom}`;\n      dato.modified = Date.now();\n      this.storageService.updateDatos(dato).then(item=>{\n        this.showToast('Elemento actualizado!')\n        this.miList.closeSlidingItems();\n        this.loadDatos();\n      });\n    } \n    //delete\n    deleteDatos(dato: Registro){\n      this.storageService.deleteDatos(dato.id).then(item=>{\n        this.showToast('Elemento eliminado');\n        this.miList.closeSlidingItems();\n        this.loadDatos();\n     });\n   }\n  \n    async showToast(msg){\n      const toast = await this.toastController.create({\n      message: msg, \n        duration: 2000\n      });\n      toast.present();\n    }\n\n  }\n\n","import { Injectable } from '@angular/core';\nimport { Storage } from '@ionic/storage';\n\nexport interface Registro{\n  id : number;\n  modified: number;\n  rut: string;\n  nom: string; \n  numerocel: number; \n  email: string;\n  contrasena:string;\n\n}\n\nconst ITEMS_KEY = 'bd';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DataService {\n\n  private _storage : Storage;\n\n  constructor(private storage: Storage) { \n    this.init();\n   }\n\n   //definimos en un método la creación del almacenamiento\n  async init(){\n    const storage = await this.storage.create();\n    this._storage= storage;\n  }\n\n  \n  addDatos(dato: Registro):Promise<any>{\n   return this.storage.get(ITEMS_KEY).then((datos : Registro[])=>{\n      if (datos) {\n        datos.push(dato);\n        return this.storage.set(ITEMS_KEY, datos);\n      }else {\n        return this.storage.set(ITEMS_KEY, [dato]);\n      }\n\n    })\n  }\n\n   //Nos permmite obtener la información almacenada en el storage \n   //por medio de sus keys \n\n   getDatos(): Promise<Registro[]>{\n    return this.storage.get(ITEMS_KEY);\n  }\n\n\n  //actualizar información de un objeto \n  updateDatos(dato: Registro): Promise<any>{\n    return this.storage.get(ITEMS_KEY).then((datos : Registro[])=>{\n      if (!datos || datos.length == 0){\n        return null;\n      }\n      let newDato: Registro[] = [];\n      for (let i of datos){\n        if (i.id === dato.id){\n          newDato.push(dato);\n        }\n        else{\n          newDato.push(i);\n        }\n      }\n      return this.storage.set(ITEMS_KEY, newDato);\n    });\n  }\n\n   //Eliminar\n  deleteDatos(id: number): Promise<Registro>{\n    return this.storage.get(ITEMS_KEY).then((datos : Registro[])=>{\n      if (!datos || datos.length === 0){\n        return null;\n      }\n      let toKeep: Registro[] = []; \n      for (let i of datos){\n        if (i.id !== id){\n          toKeep.push(i);\n        }\n      }\n      return this.storage.set(ITEMS_KEY, toKeep);\n    });\n\n  }\n\n}\n","export default \".text {\\n  text-align: center;\\n  width: 130px;\\n  margin: 0px auto;\\n}\\n\\n.cuenta {\\n  text-align: center;\\n  margin: 0px auto;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlZ2lzdHJvLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLGdCQUFBO0FBQ0o7O0FBQ0E7RUFDSSxrQkFBQTtFQUNBLGdCQUFBO0FBRUoiLCJmaWxlIjoicmVnaXN0cm8ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnRleHR7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICB3aWR0aDogMTMwcHg7XHJcbiAgICBtYXJnaW46IDBweCBhdXRvO1xyXG59XHJcbi5jdWVudGF7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBtYXJnaW46IDBweCBhdXRvO1xyXG5cclxufSJdfQ== */\";","export default \"<ion-header>\\n  <ion-toolbar color=\\\"Dark\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>CardSaver</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-padding\\\">\\n\\n  <ion-item>\\n    <ion-label position=\\\"floating\\\">Rut</ion-label>\\n    <ion-input type=\\\"text\\\" [(ngModel)]=\\\"newRegistro.rut\\\" required></ion-input>\\n  </ion-item>\\n\\n  <ion-item>\\n    <ion-label position=\\\"floating\\\">Nombre Completo</ion-label>\\n    <ion-input type=\\\"text\\\" [(ngModel)]=\\\"newRegistro.nom\\\" required></ion-input>\\n  </ion-item>\\n\\n  <ion-item>\\n    <ion-label position=\\\"floating\\\">Numero Celular</ion-label>\\n    <ion-input type=\\\"text\\\" [(ngModel)]=\\\"newRegistro.numerocel\\\" required></ion-input>\\n  </ion-item>\\n\\n  <ion-item>\\n    <ion-label position=\\\"floating\\\">Correo</ion-label>\\n    <ion-input type=\\\"text\\\" [(ngModel)]=\\\"newRegistro.email\\\" required></ion-input>\\n  </ion-item>\\n  \\n  <ion-item>\\n    <ion-label position=\\\"floating\\\">Contraseña</ion-label>\\n    <ion-input type=\\\"password\\\" [(ngModel)]=\\\"newRegistro.contrasena\\\" required></ion-input>\\n  </ion-item>\\n  <br>\\n  <ion-button class=\\\"text\\\" (click)=\\\"addDatos()\\\" expand=\\\"block\\\" color=\\\"primary\\\" routerLink=\\\"/login\\\">\\n    Registrarse\\n  </ion-button>\\n      <ion-card-subtitle class=\\\"cuenta\\\">\\n        <ion-button color=\\\"primary\\\" routerLink=\\\"/login\\\">\\n        ¿Ya tienes cuenta?\\n        </ion-button>\\n        <ion-tab-button color=\\\"withe\\\" routerLink=\\\"/datos\\\">\\n          Ir a \\\"¿Que deseas hacer?\\\"\\n        </ion-tab-button>\\n    </ion-card-subtitle>\\n   \\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}