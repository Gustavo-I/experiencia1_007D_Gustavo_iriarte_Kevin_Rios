{"version":3,"sources":["./src/app/pages/suscripcion/suscripcion-routing.module.ts","./src/app/pages/suscripcion/suscripcion.module.ts","./src/app/pages/suscripcion/suscripcion.page.ts","./src/app/services/servicedatos.service.ts","./src/app/pages/suscripcion/suscripcion.page.scss","./src/app/pages/suscripcion/suscripcion.page.html"],"names":[],"mappings":"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","file":"src_app_pages_suscripcion_suscripcion_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SuscripcionPage } from './suscripcion.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SuscripcionPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SuscripcionPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SuscripcionPageRoutingModule } from './suscripcion-routing.module';\n\nimport { SuscripcionPage } from './suscripcion.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SuscripcionPageRoutingModule\n  ],\n  declarations: [SuscripcionPage]\n})\nexport class SuscripcionPageModule {}\n","import { Component, OnInit,ViewChild } from '@angular/core';\nimport { ServicedatosService, Suscrito } from 'src/app/services/servicedatos.service';\nimport { Platform, ToastController, IonList} from '@ionic/angular';\n\n@Component({\n  selector: 'app-suscripcion',\n  templateUrl: './suscripcion.page.html',\n  styleUrls: ['./suscripcion.page.scss'],\n})\n\n\n  export class SuscripcionPage implements OnInit {\n\n    suscritos: Suscrito[] = [];\n    newDato: Suscrito = <Suscrito>{};\n    \n    @ViewChild('myList')myList :IonList; \n    \n  \n    constructor(private storageService: ServicedatosService, \n      private plt: Platform, private toastController: ToastController)\n       {\n        this.plt.ready().then(()=>{\n          this.loadDatos();\n      });\n    }\n  \n    ngOnInit() {\n    }\n  \n    //get\n    loadDatos(){\n      this.storageService.getDatos().then(datos=>{\n        this.suscritos=datos;\n      });\n    }\n  \n     //create\n     addDatos(){\n      this.newDato.modified = Date.now();\n      this.newDato.id = Date.now();\n      this.storageService.addDatos(this.newDato).then(dato=>{\n        this.newDato = <Suscrito>{};\n        this.showToast('!Datos Agregados');\n        this.loadDatos();\n      });\n    }\n  \n    //update\n    updateDatos(dato: Suscrito ){\n      dato.nom = `UPDATED: ${dato.nom}`;\n      dato.modified = Date.now();\n      this.storageService.updateDatos(dato).then(item=>{\n        this.showToast('Elemento actualizado!')\n        this.myList.closeSlidingItems();\n        this.loadDatos();\n      });\n    } \n  \n    //delete\n    deleteDatos(dato: Suscrito){\n      this.storageService.deleteDatos(dato.id).then(item=>{\n        this.showToast('Elemento eliminado');\n        this.myList.closeSlidingItems();\n        this.loadDatos();\n      });\n    }\n  \n    async showToast(msg){\n      const toast = await this.toastController.create({\n        message: msg, \n        duration: 2000\n      });\n      toast.present();\n    }\n  \n  \n  }\n  \n","import { Injectable } from '@angular/core';\nimport { Storage }  from '@ionic/storage';\n\nexport interface Suscrito{\n  id : number;\n  rut: string;\n  nom: string; \n  apellido: string; \n  direccion: string;\n  email: string;\n  telefono:number;\n  modified: number;\n}\n\nconst ITEMS_KEY = 'my-datos';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ServicedatosService {\n\n  private _storage : Storage;\n\n  constructor(private storage: Storage) { \n    this.init();\n   }\n\n   //definimos en un método la creación del almacenamiento\n  async init(){\n    const storage = await this.storage.create();\n    this._storage= storage;\n  }\n\n  \n  addDatos(dato: Suscrito):Promise<any>{\n   return this.storage.get(ITEMS_KEY).then((datos : Suscrito[])=>{\n      if (datos) {\n        datos.push(dato);\n        return this.storage.set(ITEMS_KEY, datos);\n      }else {\n        return this.storage.set(ITEMS_KEY, [dato]);\n      }\n\n    })\n  }\n\n   //Nos permmite obtener la información almacenada en el storage \n   //por medio de sus keys \n\n   getDatos(): Promise<Suscrito[]>{\n    return this.storage.get(ITEMS_KEY);\n  }\n\n\n  //actualizar información de un objeto \n  updateDatos(dato: Suscrito): Promise<any>{\n    return this.storage.get(ITEMS_KEY).then((datos : Suscrito[])=>{\n      if (!datos || datos.length == 0){\n        return null;\n      }\n      let newDato: Suscrito[] = [];\n      for (let i of datos){\n        if (i.id === dato.id){\n          newDato.push(dato);\n        }\n        else{\n          newDato.push(i);\n        }\n      }\n      return this.storage.set(ITEMS_KEY, newDato);\n    });\n  }\n\n   //Eliminar\n  deleteDatos(id: number): Promise<Suscrito>{\n    return this.storage.get(ITEMS_KEY).then((datos : Suscrito[])=>{\n      if (!datos || datos.length === 0){\n        return null;\n      }\n      let toKeep: Suscrito[] = []; \n      for (let i of datos){\n        if (i.id !== id){\n          toKeep.push(i);\n        }\n      }\n      return this.storage.set(ITEMS_KEY, toKeep);\n    });\n\n  }\n\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzdXNjcmlwY2lvbi5wYWdlLnNjc3MifQ== */\";","export default \"<ion-header>\\n  <ion-toolbar color=\\\"Dark\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>CardSaver</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  \\n  <ion-item>\\n    <ion-label position=\\\"floating\\\">Nombre Banco</ion-label>\\n    <ion-input type=\\\"text\\\" [(ngModel)]=\\\"newDato.nombanco\\\" required></ion-input>\\n  </ion-item>\\n\\n  <ion-item>\\n    <ion-label position=\\\"floating\\\">Numero Tarjeta</ion-label>\\n    <ion-input type=\\\"text\\\" [(ngModel)]=\\\"newDato.numtarjeta\\\" required></ion-input>\\n  </ion-item>\\n\\n  <ion-item>\\n    <ion-label position=\\\"floating\\\">Fecha de Vencimiento</ion-label>\\n    <ion-input type=\\\"text\\\" [(ngModel)]=\\\"newDato.fechvenc\\\" required></ion-input>\\n  </ion-item>\\n  \\n  <ion-item>\\n    <ion-label position=\\\"floating\\\">CVV</ion-label>\\n    <ion-input type=\\\"text\\\" [(ngModel)]=\\\"newDato.cvv\\\" required></ion-input>\\n  </ion-item>\\n  <ion-button (click)=\\\"addDatos()\\\" expand=\\\"block\\\" color=\\\"primary\\\">\\n    Agregar tarjeta\\n  </ion-button>\\n\\n  <ion-list #myList>\\n    <ion-list-header>\\n      <ion-label position=\\\"center\\\">Mis Tarjetas</ion-label>\\n    </ion-list-header>\\n\\n    <ion-list>\\n      <ion-item-sliding *ngFor=\\\"let dato of suscritos\\\">\\n        <ion-item>\\n          <ion-label text-wrap> \\n            <ion-text color=\\\"primary\\\">\\n            <h2>|Nombre Tarjeta|</h2><p>{{dato.nombanco}}</p>\\n          </ion-text>\\n            <ion-text color=\\\"primary\\\">\\n              <h2>|Numero Tarjeta|</h2><p>{{dato.numtarjeta}}</p>\\n              <h2>|Fecha Vencimiento|</h2><p>{{dato.fechvenc}}</p>\\n              <h2>|CVV|</h2><p>{{dato.cvv}}</p>\\n            </ion-text>\\n            <p>{{dato.modified | date: 'short'}}</p>\\n          </ion-label>\\n        </ion-item>\\n        <ion-item-options side=\\\"end\\\">\\n          <ion-item-option color=\\\"secondary\\\" (click)=\\\"updateDatos(dato)\\\">Actualizar</ion-item-option>\\n         <ion-item-option color=\\\"danger\\\" (click)=\\\"deleteDatos(dato)\\\">Eliminar</ion-item-option> \\n        </ion-item-options>\\n      </ion-item-sliding>\\n    </ion-list>\\n  </ion-list>\\n</ion-content>\\n\\n\";"],"sourceRoot":"webpack:///"}